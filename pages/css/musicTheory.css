/* Music Theory page-specific styles */

.theory-list-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    padding-block: 1.5rem;
}

.theory-view-container {
    display: flex;
    height: calc(100vh - 12.5rem);
    gap: 1.25rem;
}

.theory-titles-left {
    display: flex;
    flex-direction: column;
    width: 18.75rem;
    overflow-y: auto;
    gap: 0.1875rem;
    padding: 0.9375rem;
    background: linear-gradient(135deg, var(--bg-soft) 0%, var(--bg-soft) 100%);
    border-radius: 0.5rem;
    border: 1px solid rgba(220, 20, 60, 0.2);
}

.theory-title-group {
    margin-block-end: 0.3125rem;
    cursor: grab;
    transition: opacity var(--transition), border-top var(--transition);
}

.theory-title-group:active {
    cursor: grabbing;
}

.theory-main-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 0.9375rem;
    background: var(--bg-soft);
    border-radius: 0.1875rem;
    margin-block-end: 0.1875rem;
    box-shadow: 0 0 1.25rem rgba(220, 20, 60, 0.4), inset 0 0.0625rem 0 rgba(220, 20, 60, 0.2);
    border: 1px solid rgba(220, 20, 60, 0.5);
    border-inline-start: 0.25rem solid var(--theme);
    cursor: pointer;
    transition: all var(--transition);
}

.theory-main-title:hover {
    box-shadow: 0 0 1.25rem rgba(220, 20, 60, 0.5), inset 0 0.0625rem 0 rgba(220, 20, 60, 0.3);
}

.theory-title-text {
    color: var(--theme);
    font-weight: bold;
    font-size: 0.95em;
    word-wrap: break-word;
    flex: 1;
    text-shadow: 0 0 0.625rem var(--theme), 0 0 1.25rem rgba(220, 20, 60, 0.6), 0 0 1.875rem rgba(220, 20, 60, 0.3);
}

.theory-subtitle-item {
    display: flex;
    align-items: center;
    padding: 0.625rem 0.9375rem 0.625rem 1.875rem;
    background: var(--bg-soft);
    border-inline-start: 0.25rem solid transparent;
    border-radius: 0.1875rem;
    cursor: pointer;
    transition: all var(--transition);
    margin-inline-start: 0.3125rem;
    border-block-start: 1px solid rgba(220, 20, 60, 0.2);
    border-inline-end: 1px solid rgba(220, 20, 60, 0.2);
    border-block-end: 1px solid rgba(220, 20, 60, 0.2);
    margin-block-end: 0.125rem;
}

.theory-subtitle-item:hover {
    background: var(--bg-soft);
    border-inline-start: 0.25rem solid var(--theme);
    box-shadow: 0 0 0.9375rem rgba(220, 20, 60, 0.3), inset 0 0.0625rem 0 rgba(220, 20, 60, 0.2);
}

.theory-subtitle-item.active {
    background: linear-gradient(135deg, rgba(220, 20, 60, 0.3) 0%, rgba(139, 10, 26, 0.3) 100%);
    border-inline-start-color: var(--theme);
    border: 1px solid rgba(220, 20, 60, 0.5);
    box-shadow: 0 0 0.9375rem rgba(220, 20, 60, 0.3);
}

.theory-subtitle-text {
    color: var(--theme);
    font-weight: 500;
    font-size: 0.9em;
    word-wrap: break-word;
}

.theory-content-right {
    flex: 1;
    background: linear-gradient(135deg, var(--bg) 0%, var(--bg) 100%);
    border-radius: 0.5rem;
    padding: 1.5625rem;
    overflow-y: auto;
    box-shadow: 0 0 3.125rem rgba(220, 20, 60, 0.4), 0 0 5rem rgba(220, 20, 60, 0.2), inset 0 0 1.25rem rgba(220, 20, 60, 0.1);
}

.theory-content-display {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.theory-card-line {
    font-size: 0.95em;
    color: var(--text);
    margin: 0;
    line-height: 1.6;
}

.theory-card-line:hover {
    color: var(--theme);
}

.theory-badge {
    color: var(--text);
    padding: 0.375rem 0.875rem;
    cursor: help;
    font-size: 0.85em;
    font-weight: 600;
    display: inline-block;
    animation: fadeInScale 0.5s ease-out;
    transition: all var(--transition);
}

.theory-badge:hover {
    background: color-mix(in srgb, var(--bg-soft) 70%, white);
    color: var(--text);
    box-shadow: 0 0.25rem 0.75rem rgba(255, 23, 68, 0.3);
    transform: translateY(-0.125rem);
}

.tooltip-word {
    color: var(--theme);
    cursor: help;
    position: relative;
    font-weight: bold;
    padding: 0.125rem 0.25rem;
    border-radius: 0.1875rem;
    transition: all var(--transition);
}

.tooltip-word:hover {
    background: rgba(255, 23, 68, 0.2);
    padding: 0.25rem 0.5rem;
    box-shadow: 0 0 0.5rem rgba(255, 23, 68, 0.4);
}

.tooltip-word::after {
    content: attr(title);
    position: absolute;
    inset-block-end: 125%;
    inset-inline-start: 50%;
    transform: translateX(-50%);
    background: var(--text-dark);
    color: var(--theme);
    padding: 0.75rem 1rem;
    border-radius: 0.375rem;
    font-size: 0.9em;
    font-weight: normal;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity var(--transition);
    z-index: 1000;
    box-shadow: 0 0.25rem 0.75rem rgba(255, 23, 68, 0.4);
    border: 0.125rem solid var(--theme);
    text-shadow: 0 0 0.5rem var(--theme), 0 0 1rem var(--theme), 0 0 1.5rem var(--theme);
}

.tooltip-word:hover::after {
    opacity: 1;
}
